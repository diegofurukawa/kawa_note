# TECHNOLOGY STACK — FRONTEND

## Herança Global
Este arquivo **especializa** `/.Agent/.Stack.md` com detalhes específicos do frontend.

---

## Core Framework
- **React:** 18.2.0
- **Vite:** 6.1.0
- **Node.js:** 20 LTS (desenvolvimento)
- **Package Manager:** npm

---

## UI e Estilização
- **Tailwind CSS:** 3.4.17
  - Utility-first CSS framework
  - Configuração em `tailwind.config.js`
  - Estilos globais em `src/styles/globals.css`

- **Shadcn UI:** Componentes Radix UI com Tailwind
  - Componentes em `src/components/ui/`
  - Não modificar componentes existentes
  - Adicionar novos conforme necessário

- **Lucide React:** Ícones
  - Importar de `lucide-react`
  - Exemplo: `import { Heart } from 'lucide-react'`

- **Framer Motion:** Animações
  - Para transições e efeitos visuais
  - Exemplo: `<motion.div animate={{ opacity: 1 }} />`

---

## Gerenciamento de Estado e Dados
- **@tanstack/react-query:** 5.84.1
  - Fetching, caching, sincronização de dados
  - Hooks: `useQuery`, `useMutation`, `useInfiniteQuery`
  - Configuração em `src/api/`

- **React Hook Form:** Gerenciamento de formulários
  - Integrado com Zod para validação
  - Exemplo: `useForm({ resolver: zodResolver(schema) })`

- **Zod:** Validação de schemas
  - Schemas em `src/api/` ou `src/lib/`
  - Exemplo: `z.object({ title: z.string().min(1) })`

- **React Router DOM:** 6.26.0
  - Roteamento de páginas
  - Configuração em `src/App.jsx`

---

## Utilitários
- **date-fns:** Manipulação de datas
- **moment:** Alternativa para datas (considerar deprecação)
- **lodash:** Funções utilitárias
- **clsx:** Concatenação condicional de classes
- **tailwind-merge:** Merge de classes Tailwind
- **canvas-confetti:** Efeitos de confete

---

## Integrações Externas
- **Stripe:** `@stripe/stripe-js` para pagamentos
- **Leaflet:** `react-leaflet` para mapas
- **Three.js:** Para gráficos 3D
- **jspdf:** Geração de PDFs
- **html2canvas:** Captura de canvas para imagem

---

## Testes
- **Vitest:** Framework de testes rápido
- **React Testing Library:** Testes de componentes
- **Cobertura:** Mínimo 80% para componentes críticos

---

## Build e Deploy
- **Vite:** Build rápido e otimizado
- **Output:** `dist/` (estático)
- **Docker:** Multi-stage Dockerfile
  - Base: `node:20-alpine`
  - Serve: `nginx:alpine`

---

## Variáveis de Ambiente
- **Arquivo:** `.env` (não versionado)
- **Exemplo:** `.env.example`
- **Prefixo:** `VITE_` (Vite expõe apenas variáveis com este prefixo)
- **Variáveis Críticas:**
  - `VITE_API_URL` — URL da API backend
  - `VITE_STRIPE_KEY` — Chave pública Stripe

---

## Scripts NPM
```json
{
  "dev": "vite",
  "build": "vite build",
  "preview": "vite preview",
  "lint": "eslint src --fix",
  "test": "vitest",
  "test:watch": "vitest --watch",
  "test:ui": "vitest --ui"
}
```

---

## Dependências Principais
```json
{
  "react": "^18.2.0",
  "react-dom": "^18.2.0",
  "react-router-dom": "^6.26.0",
  "@tanstack/react-query": "^5.84.1",
  "react-hook-form": "^7.x",
  "zod": "^3.x",
  "tailwindcss": "^3.4.17",
  "@radix-ui/react-*": "^1.x",
  "lucide-react": "^0.x",
  "framer-motion": "^10.x",
  "date-fns": "^2.x",
  "lodash": "^4.x",
  "clsx": "^2.x",
  "tailwind-merge": "^2.x"
}
```

---

## Dependências de Desenvolvimento
```json
{
  "vite": "^6.1.0",
  "@vitejs/plugin-react": "^4.x",
  "tailwindcss": "^3.4.17",
  "postcss": "^8.x",
  "autoprefixer": "^10.x",
  "eslint": "^8.x",
  "@eslint/js": "^8.x",
  "vitest": "^1.x",
  "@testing-library/react": "^14.x",
  "@testing-library/jest-dom": "^6.x"
}
```

---

## Configuração de Ambiente
- **Desenvolvimento:** `npm run dev` (Vite dev server)
- **Produção:** `npm run build` (build otimizado)
- **Preview:** `npm run preview` (preview do build)
- **Porta:** `5173` (padrão Vite)
- **API:** `http://localhost:3000/api` (padrão backend)

---

## Checklist de Sincronização
- [ ] `package.json` atualizado
- [ ] `vite.config.js` atualizado
- [ ] `tailwind.config.js` atualizado
- [ ] Variáveis de ambiente documentadas
- [ ] Scripts NPM funcionando
- [ ] Testes passando
- [ ] Lint passando
- [ ] Build funcionando
