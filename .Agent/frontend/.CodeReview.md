# CODE REVIEW — FRONTEND

## Herança Global
Este arquivo **estende** `/.Agent/.CodeReview.md` com critérios específicos para frontend.

---

## Checklist Obrigatório

### Estrutura e Organização
- [ ] Arquivo está no diretório correto (`src/components/`, `src/hooks/`, `src/pages/`, etc.).
- [ ] Nomenclatura segue convenções (PascalCase para componentes, camelCase para hooks).
- [ ] Componentes são funcionais com Hooks.
- [ ] Props são destructuradas.

### React e Hooks
- [ ] Hooks seguem `rules-of-hooks` (não condicional, não em loops).
- [ ] `useEffect` tem dependency array correto.
- [ ] `useCallback` usado para funções passadas como props.
- [ ] `useMemo` usado para cálculos custosos.
- [ ] Sem `console.log` em produção.

### Estilização
- [ ] Tailwind CSS usado para estilização.
- [ ] Sem CSS-in-JS ou estilos inline (exceto dinâmicos).
- [ ] Classes Tailwind bem organizadas.
- [ ] Sem `!important`.

### Formulários
- [ ] React Hook Form + Zod para validação.
- [ ] Schema Zod definido.
- [ ] Mensagens de erro exibidas.
- [ ] Campos obrigatórios marcados.

### Integração com API
- [ ] React Query para fetching de dados.
- [ ] Tratamento de loading, error, success.
- [ ] Interceptadores de autenticação configurados.
- [ ] Sem hardcoding de URLs de API.

### Acessibilidade
- [ ] Labels em formulários.
- [ ] `aria-*` attributes quando necessário.
- [ ] Navegação por teclado funciona.
- [ ] Contraste de cores adequado.
- [ ] Sem apenas cor para transmitir informação.

### Performance
- [ ] Sem N+1 queries (React Query).
- [ ] Componentes lazy loaded quando apropriado.
- [ ] Imagens otimizadas.
- [ ] Bundle size verificado.

### Linting e Qualidade
- [ ] Sem variáveis não utilizadas.
- [ ] Sem importações não utilizadas.
- [ ] Código passa em `npm run lint`.
- [ ] Sem comentários de código comentado.

### Testes
- [ ] Testes unitários para componentes críticos.
- [ ] Testes de integração para fluxos de usuário.
- [ ] Cobertura mínima 80% para componentes críticos.
- [ ] Testes passam em `npm run test`.

### Documentação
- [ ] JSDoc em componentes e hooks públicos.
- [ ] Exemplos de uso em comentários.
- [ ] README atualizado se houver mudanças significativas.

---

## Critérios de Severidade

### CRITICAL (Bloqueia Execução)
- Quebra de build ou testes.
- Erro de lógica que quebra funcionalidade existente.
- Violação grave de acessibilidade (WCAG 2.1 AA).
- Performance degradada significativamente (LCP > 3s).
- Exposição de dados sensíveis.

### MAJOR (Requer Correção)
- Violação de convenções React/Hooks.
- Falta de tratamento de erro em API calls.
- Sem validação de formulário.
- Acessibilidade menor (labels faltando, etc.).
- Código não passa em lint.

### MINOR (Opcional)
- Sugestões de estilo.
- Otimizações leves.
- Melhorias de documentação.
- Refatoração de código legível.

---

## Formato de Relatório de Revisão

Cada execução deve gerar relatório em `/.Agent/.plans/reports/REPORT-<date>-frontend.md`:

```markdown
# Code Review Report — Frontend

## Resumo
- Arquivos modificados: N
- Status: ✅ Sucesso / ❌ Erro
- Severidade máxima: CRITICAL / MAJOR / MINOR

## Arquivos Modificados
- `src/components/notes/NoteCard.jsx` — ✅ Aprovado
- `src/hooks/useNotes.js` — ✅ Aprovado
- `src/pages/Notes.jsx` — ✅ Aprovado

## Checklist de Revisão
- [x] Estrutura e organização
- [x] React e Hooks
- [x] Estilização
- [x] Formulários
- [x] Integração com API
- [x] Acessibilidade
- [x] Performance
- [x] Linting
- [x] Testes

## Problemas Encontrados
Nenhum.

## Recomendações
Nenhuma.

## Evidências
- Lint: ✅ `npm run lint` passou
- Testes: ✅ `npm run test` passou
- Build: ✅ `npm run build` passou
- Performance: ✅ LCP < 2.5s
```

---

## Processo de Revisão
1. **Auditoria:** Verificar cada arquivo contra checklist.
2. **Classificação:** Atribuir severidade (CRITICAL, MAJOR, MINOR).
3. **Bloqueio:** Se CRITICAL, bloquear execução.
4. **Relatório:** Gerar relatório com evidências.
5. **Aprovação:** Aguardar confirmação do usuário.

---

## Checklist de Conformidade
- [ ] Todos os critérios CRITICAL foram verificados.
- [ ] Todos os critérios MAJOR foram verificados.
- [ ] Relatório foi gerado.
- [ ] Evidências de testes incluídas.
